<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Study Log" /><meta name="author" content="Jaegoo Kim" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://jaegukim.github.io/page21/" /><meta property="og:url" content="https://jaegukim.github.io/page21/" /><meta property="og:site_name" content="Study Log" /><meta property="og:type" content="website" /><link rel="prev" href="https://jaegukim.github.io/page20" /><link rel="next" href="https://jaegukim.github.io/page22" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Study Log" /><meta name="twitter:site" content="@JaeguKim" /><meta name="twitter:creator" content="@Jaegoo Kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Jaegoo Kim"},"description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","headline":"Study Log","url":"https://jaegukim.github.io/page21/"}</script><title>Study Log</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Study Log"><meta name="application-name" content="Study Log"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/22807942?s=460&u=cc1d822a8be2c87ac3aa4917adaadeca5487c515&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Study Log</a></div><div class="site-subtitle font-italic">“ In order to be irreplaceable, one must always be different” – Coco Chanel</div></div><ul class="w-100"><li class="nav-item active"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/JaeguKim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/JaeguKim" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['kimwithglasses','kakao.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>Home</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Study Log</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="page" class="post pb-5 pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4 mb-md-4"><div id="post-list"><div class="post-preview"><h1> <a href="/posts/schema-evolution/">Schema Registry</a></h1><div class="post-content"><p> Schema Registry의 필요성 다음의 경우에 Consumer에 에러가 발생가능 Producer가 bad data를 보낼 경우 field 명이 변경될 경우 data format이 변경될 경우 만약 카프카 브로커가 메시지를 검증하면 안될까? 라고 생각할 수 있다. 하지만 다음의 카프카의 장점을 없애버린다. Kafka는 CPU...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 25, 2021, 9:10 AM +0800" >Feb 25, 2021<i class="unloaded">2021-02-25T09:10:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1263 words">7 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/cachepersist/">Cache,Persist</a></h1><div class="post-content"><p> Spark DataFrame Cache, Persist Spark Cache,Persist는 잡의 퍼포먼스를 개선하기위해 반복적이고 상호작용이 많은 spark 어플리케이션에 대해서 DataFrame/Dataset을 최적화 하는 기술이다. cache() 와 persist() 함수를 사용하여, spark은 데이터 프레임 중간 결과를 저장하는 최적화 메...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Feb 23, 2021, 1:19 PM +0800" >Feb 23, 2021<i class="unloaded">2021-02-23T13:19:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1034 words">5 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/spark-memory-architecture/">Spark Memory Architecture</a></h1><div class="post-content"><p> Spark Legacy Memory Architecture Executor worker node 에서 수행되는 Spark application의 JVM process이다. 여러 스레드로 task들을 수행하며 관련있는 데이터 파티션들을 유지한다. Executor Memory 구조 YARN에 10gb의 executor을 워커노드상에서 요청할때,...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Feb 13, 2021, 4:44 PM +0800" >Feb 13, 2021<i class="unloaded">2021-02-13T16:44:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1901 words">10 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/pipfile/">Pipfile</a></h1><div class="post-content"><p> Pipfile 프로젝트 의존성을 관리하기 위해 Pipenv virtual environment에 의해 사용되는 dedicated file python_version 파라미터는 pipenv 환경을 생성했을때 명시한 base interpreter 버전을 의미한다. packages는 프로젝트에 필요한 패키지 리스트를 명시할때 사용한다.</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 11, 2021, 10:10 PM +0800" >Feb 11, 2021<i class="unloaded">2021-02-11T22:10:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="81 words">1 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/trouble-shooting-cannot-resolve-columnnumeric-column-name-in-spark-dataframe/">[Trouble Shooting] cannot resolve column(numeric column name) in Spark Dataframe</a></h1><div class="post-content"><p> 다음과 같은 스키마가 있다고 하자. scala&gt; data.printSchema root |-- 1.0: string (nullable = true) |-- 2.0: string (nullable = true) |-- 3.0: string (nullable = true) 이 경우 다음 라인을 실행하면 에러가 난다. scala&gt; d...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 10, 2021, 8:59 AM +0800" >Feb 10, 2021<i class="unloaded">2021-02-10T08:59:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="121 words">1 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/%EC%A4%91%EC%B2%A9%EB%90%9C-schema-flattening%ED%95%98%EA%B8%B0/">중첩된 schema flattening하기</a></h1><div class="post-content"><p> def flattenSchema(schema: StructType, prefix: String = null): Array[Column] = { schema.fields.flatMap(f =&gt; { val colName = if (prefix == null) f.name else (prefix + "." + f.name) ...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 10, 2021, 8:56 AM +0800" >Feb 10, 2021<i class="unloaded">2021-02-10T08:56:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="57 words">1 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/scala-return/">Scala return</a></h1><div class="post-content"><p> Scala에서는 return 키워드가 없다면 마지막 expression이 return value로 간주된다. def f() = { if (something) "A" else "B" } 위의 코드의 경우 리턴타입은 String이 된다. def f() = { if (something) "A" else "B...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 10, 2021, 8:50 AM +0800" >Feb 10, 2021<i class="unloaded">2021-02-10T08:50:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="101 words">1 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/avro-vs-parquet/">Avro vs Parquet</a></h1><div class="post-content"><p> Apache Avro vs Parquet Apache Avro 는 remote procedure call과 data serialization framework 이고 Apache Hadoop project중 개발되었다. type,protocol을 정의하는데 JSON을 사용하고 compact binary format으로 데이터를 직렬화한다. ro...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Feb 2, 2021, 9:35 PM +0800" >Feb 2, 2021<i class="unloaded">2021-02-02T21:35:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="325 words">1 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/rdds-vs-dataframes-and-datasets/">RDDs vs DataFrames vs Datasets</a></h1><div class="post-content"><p> Resilient Distributed Dataset(RDD) RDD는 데이터의 immutable distributed collection, 클러스터의 노드들에 분할되어있고 병렬적으로 처리됨. 여러 분산 노드에 걸쳐서 저장되는 변경이 불가능한 데이터(객체)의 집합으로 각각의 RDD는 여러개의 파티션으로 분리가 됩니다. 즉, 스파크 내에 저장된 데이터...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Feb 2, 2021, 5:39 PM +0800" >Feb 2, 2021<i class="unloaded">2021-02-02T17:39:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1169 words">6 min</span></div></div></div><div class="post-preview"><h1> <a href="/posts/hdfs-connector-2/">HDFS Connector 2</a></h1><div class="post-content"><p> HDFS 2 Sink Connector 다양한 포맷의 HDFS 2.x 파일로 카프카 토픽 데이터를 저장할수 있는 카프카 커넥터 HiveQL로 쿼리할수 있도록 제공 커넥터는 주기적으로 카프카로부터 데이터를 poll하고 HDFS에 쓴다. 카프카 토픽의 데이터는 제공된 partitioner의 의해 분할되고 chun...</p></div><div class="post-meta text-muted d-flex justify-content-between"><div> <i class="far fa-calendar fa-fw"></i> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 30, 2021, 9:01 PM +0800" >Jan 30, 2021<i class="unloaded">2021-01-30T21:01:00+08:00</i> </span> <i class="far fa-clock fa-fw"></i> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1256 words">6 min</span></div></div></div></div><ul class="pagination align-items-center mt-4 mb-0 pl-lg-2"><li class="page-item "> <a class="page-link btn-box-shadow" href="/page20" aria-label="previous-page"> <i class="fas fa-angle-left"></i> </a><li class="page-item "> <a class="page-link btn-box-shadow" href="/">1</a><li class="page-item disabled"> <span class="page-link btn-box-shadow">...</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/page20/">20</a><li class="page-item active"> <a class="page-link btn-box-shadow" href="/page21/">21</a><li class="page-item "> <a class="page-link btn-box-shadow" href="/page22/">22</a><li class="page-item disabled"> <span class="page-link btn-box-shadow">...</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/page37/">37</a><li class="page-index align-middle"> <span>21</span> <span class="text-muted">/ 37</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/page22" aria-label="next-page"> <i class="fas fa-angle-right"></i> </a></ul></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/software-engineering-at-google/">Software Engineering at Google</a><li><a href="/posts/til/">TIL</a><li><a href="/posts/custom-default-backend-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/">custom error page 띄우기</a><li><a href="/posts/cors-setting/">CORS setting</a><li><a href="/posts/helm-chart/">Helm Chart</a></ul></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Jaegoo.Kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jaegukim.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script defer src="/assets/js/dist/home.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
