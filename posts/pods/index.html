<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Pods" /><meta name="author" content="Jaegoo Kim" /><meta property="og:locale" content="en" /><meta name="description" content="Pods" /><meta property="og:description" content="Pods" /><link rel="canonical" href="https://jaegukim.github.io/posts/pods/" /><meta property="og:url" content="https://jaegukim.github.io/posts/pods/" /><meta property="og:site_name" content="Study Log" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-16T15:14:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Pods" /><meta name="twitter:site" content="@JaeguKim" /><meta name="twitter:creator" content="@Jaegoo Kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jaegoo Kim"},"dateModified":"2021-08-17T21:57:23+08:00","datePublished":"2021-01-16T15:14:00+08:00","description":"Pods","headline":"Pods","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaegukim.github.io/posts/pods/"},"url":"https://jaegukim.github.io/posts/pods/"}</script><title>Pods | Study Log</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Study Log"><meta name="application-name" content="Study Log"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/22807942?s=460&u=cc1d822a8be2c87ac3aa4917adaadeca5487c515&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Study Log</a></div><div class="site-subtitle font-italic">“ In order to be irreplaceable, one must always be different” – Coco Chanel</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/JaeguKim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/JaeguKim" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['kimwithglasses','kakao.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Pods</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Pods</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Jaegoo.Kim </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 16, 2021, 3:14 PM +0800" >Jan 16, 2021<i class="unloaded">2021-01-16T15:14:00+08:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Aug 17, 2021, 10:57 PM +0900" >Aug 17, 2021<i class="unloaded">2021-08-17T21:57:23+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1994 words">11 min read</span></div></div><div class="post-content"><h2 id="pods">Pods</h2><p>Kubernetes에서 생성가능하고 관리할수 있는 가장 작은 deployable units of computing</p><p>Pod은 컨테이너들을 실행하기 위한 명세, 네트워크 자원, 공유 저장공간을 가진 하나이상의 컨테이너 그룹</p><p>Pod의 컨텐츠들은 항상 같은 공간에 위치해 있고, 함께 스케줄되며 공유된 컨텍스트로 실행된다.</p><h3 id="pod이란">Pod이란?</h3><p>도커 개념으로 설명하자면, Pod은 공유된 namespace와 filesystem 저장공간을 가진 도커 컨테이너 그룹</p><p>쿠버네티스에서 Pod은 주로 두가지 방법으로 사용된다.</p><ul><li><strong>single container를 실행하는 pods</strong>. “Pod하나당 컨테이너 하나” 모델은 가장 흔한 쿠버네티스 use case이다. 이 경우에, pod은 하나의 컨테이너를 감싸는 wrapper라고 생각할수 있다. Kubernetes는 컨테이너들을 직접적으로 관리하기보다 pod들을 관리한다.<li><strong>함께 동작할 필요가 있는 여러 컨테이너들을 실행하는 pods</strong>. pod은 자원을 공유할 필요가있는 tightly coupled 여러 컨테이너들로 구성되는 application을 캡슐화 할수도 있다. Pod은 이 컨테이너들, 저장리소스들 그리고 ephemeral network identity들을 하나의 단위로 감싼다.</ul><p>각각의 pod은 주어진 어플리케이션의 하나의 인스턴스를 실행할수 있다. 만약 어플리케이션을 수평적으로 스케일 하고 싶으면, 여러 pod을 사용해야한다. 쿠버네티스에서는 이를 repliation이라 부른다. Replicated pod들은 workload resource, controller에 의해서 보통 하나의 그룹으로 생성되고 관리된다.</p><h3 id="pod들이-여러-컨테이너들을-관리하는-방식">Pod들이 여러 컨테이너들을 관리하는 방식</h3><p>Pod에 존재하는 여러 컨테이너들은 자동으로 같은 클러스터에서 같은 물리 또는 가상 머신에서 위치하게된다.</p><p>예를들어, 아래 그림을 보자.</p><p><img data-proofer-ignore data-src="https://d33wubrfki0l68.cloudfront.net/aecab1f649bc640ebef1f05581bfcc91a48038c4/728d6/images/docs/pod.svg" alt="img" /></p><p>위에서 Web server 컨테이너는 공유된 volume에 있는 파일을 제공해주고, sidecar containers는 원격 저장소로 부터 파일들을 받아서 업데이트 해준다.</p><h3 id="pods으로-작업하기">Pods으로 작업하기</h3><p>Pod이 생성이 될때(직접적으로 당신에 의해서 또는 간접적으로 컨트롤러에 의해서 ) 새로운 pod은 클러스터에있는 노드에서 실행되도록 스케줄된다. pod은 실행이 끝나거나, pod object가 삭제되거나 자원부족으로 evict될때까지 노드에 남아있다.</p><blockquote><p>노트 : Pod에 있는 컨테이너를 재시작하는것은 pod을 재시작하는것과는 다르다. Pod은 프로세스가 아니라 컨네이너들이 실행되는 환경이다. Pod은 삭제될때까지 계속 유지된다.</p></blockquote><h3 id="pods-과-controller">Pods 과 Controller</h3><p>pods을 관리하고 생성하기위한 workload resources를 사용가능하다. resource에 대한 컨트롤러는 Pod failure 경우에 automatic healing, rollout, replication을 처리할수 있다.</p><h4 id="pod-templates">Pod templates</h4><p>workload resources(쿠버네티스에서 실행중인 어플리케이션)에 대한 컨트롤러는 pod template으로 pod을 생성하여 관리할수 있다.</p><p>Pod template은 pod들을 생성하기위한 명세이고 deployments,jobs, 그리고 DaemonSet과 같은 workload resources에 포함이 된다.</p><p>컨트롤러는 pod template을 workload object내에서 실제 pod을 생성하기 위해서 사용한다.</p><p>다음 manifest는 하나의 컨테이너를 실행하기 위한 template을 말한다. pod에 있는 컨테이너는 메시지를 출력하고 일시정지한다.</p><div lang="yaml" class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">batch/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Job</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">hello</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="c1"># This is the pod template</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hello</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">busybox</span>
        <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">sh'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">-c'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">echo</span><span class="nv"> </span><span class="s">"Hello,</span><span class="nv"> </span><span class="s">Kubernetes!"</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">sleep</span><span class="nv"> </span><span class="s">3600'</span><span class="pi">]</span>
      <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">OnFailure</span>
    <span class="c1"># The pod template ends here</span>
    
</pre></table></code></div></div><h2 id="pod-lifecycle">Pod LifeCycle</h2><p>pod은 <code class="language-plaintext highlighter-rouge">Pending</code> 단계, <code class="language-plaintext highlighter-rouge">Running</code> (최소 하나의 primary container가 정상적으로 시작될 경우), <code class="language-plaintext highlighter-rouge">Succeeded</code> 또는 <code class="language-plaintext highlighter-rouge">Failed</code> 단계로 실행된다.</p><p>pod이 실행되는 동안 kubelet이 오류를 복구하기위해 컨테이너들을 재시작할수 있다. pod이 일단 노드에 할당되어 스케줄링되면, pod은 해당노드에서만 실행된다.</p><h3 id="pod-lifetime">Pod lifetime</h3><p>pod이 생성되면 unique ID(UID)를 할당받고 노드에 스케줄링된다. 만약 노드가 죽으면 해당 노드에 할당된 pod들은 timeout period가 지나면 결국 삭제된다. pod 스스로 회복을 할수는 없고 <code class="language-plaintext highlighter-rouge">controller</code>라 불리는 higher-level abstraction을 사용한다. controller는 pod instance들을 관리하는 작업을 담당한다.</p><p>pod은 절대 다른 노드에 reschedule되지 않는다; 대신, pod은 새로운, near-identical pod으로 교체된다. 이때 새로운 UID를 할당받는다. 만약 pod이 삭제되면, 비록 동일한 replacement가 생성되었다 하더라도 관련된 자원(volume)들은 모두 삭제되고 새로 생성된다.</p><h3 id="pod-phase">Pod phase</h3><div class="table-wrapper"><table><thead><tr><th>Value<th>Description<tbody><tr><td>Pending<td>Pod이 쿠버네티스 클러스터에 의해서 수락되었고 하나이상의 컨네이너들이 준비되지 않았음을 의미한다. pod이 스케줄링 되는데 걸리는 시간뿐 아니라 컨테이너 이미지를 다운로드하는 시간까지 포함한다.<tr><td>Running<td>pod이 노드에 도착했고 모든 컨테이너들이 생성되었음. 컨테이너들이 실행중임을 의미한다.<tr><td>Successded<td>모든 컨테이너들이 성공적으로 종료되었고 재시작 되지 않을 것임을 의미한다.<tr><td>Failed<td>pod에 있는 모든 컨테이너들이 종료되었고 최소 하나의 컨테이너가 실패하여 종료되었음을 의미한다.<tr><td>Unknown<td>pod의 상태정보를 받아올수 없음을 의미한다. pod이 실행되어야 하는 노드와 커뮤니케이션에서 에러때문에 주로 발생한다.</table></div><h3 id="container-states">Container States</h3><p>전체적인 pod의 단계뿐 아니라, 쿠버네티스는 pod내에 있는 각각의 컨테이너들의 상태도 트래킹한다. 일단 노드에 pod이 할당되면, kubelet은 컨테이너들을 생성하기 시작한다. 컨테이너 상태에는 세가지 상태가 있다 : <code class="language-plaintext highlighter-rouge">Wainting</code>,<code class="language-plaintext highlighter-rouge">Running</code>, <code class="language-plaintext highlighter-rouge">Termination</code></p><p>pod의 컨테이너 상태를 체크하려면, <code class="language-plaintext highlighter-rouge">kubectl describe pod &lt;name-of-pod&gt;</code>을 사용할수 있다. 결과는 pod내에있는 각각의 컨테이너 상태를 보여준다.</p><p>각각의 상태는 다음과 같은 의미가 있다.</p><h4 id="waiting">Waiting</h4><p>컨테이너를 시작하기 위해서 필요한 작업들을 수행중</p><h4 id="running">Running</h4><p>컨테이너가 issue없이 실행중임을 의미한다.</p><h4 id="terminated">Terminated</h4><p>실행이 완료되었거나 실패했음을 의미한다.</p><h3 id="pod-conditions">Pod conditions</h3><ul><li><code class="language-plaintext highlighter-rouge">PodScheduled</code> : pod이 노드에 스케줄되었음.<li><code class="language-plaintext highlighter-rouge">ContainerReady</code> : pod에 있는 모든 컨테이너들이 준비됨.<li><code class="language-plaintext highlighter-rouge">Initialized</code> : 모든 init container들이 성공적으로 실행됨<li><code class="language-plaintext highlighter-rouge">Ready</code> : pod이 요청을 수락할수 있으며 load balancing pool에 추가 되어야 함을 의미한다.</ul><h3 id="pod-yaml-sturcture">Pod yaml Sturcture</h3><ul><li>Metadata : 이름, 네임스페이스, 레이블 및 파드에 관한 기타 정보<li>Spec : 파트 컨테이너, 볼륨, 기타 데이터 등 파트 자체에 대한 실제 명세<li>Status : 파트 상태, 각 컨테이너 설명과 상태, 파드 내부 IP, 기타 기본 정보 등 현재 실행중인 파드에 관한 현재 정보</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/kubernetes/'>Kubernetes</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Pods - Study Log&url=https://jaegukim.github.io/posts/pods/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Pods - Study Log&u=https://jaegukim.github.io/posts/pods/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Pods - Study Log&url=https://jaegukim.github.io/posts/pods/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/software-engineering-at-google/">Software Engineering at Google</a><li><a href="/posts/til/">TIL</a><li><a href="/posts/custom-default-backend-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/">custom error page 띄우기</a><li><a href="/posts/cors-setting/">CORS setting</a><li><a href="/posts/helm-chart/">Helm Chart</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/helm-dependency/"><div class="card-body"> <span class="timeago small" >Sep 2, 2021<i class="unloaded">2021-09-02T21:57:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>helm dependency</h3><div class="text-muted small"><p> link 장점 chart의 templates 파일들을 다운받을 필요없이 values.yaml만 가지고 argoCD에 배포가능</p></div></div></a></div><div class="card"> <a href="/posts/trouble-shooting-kubernetes/"><div class="card-body"> <span class="timeago small" >Sep 8, 2021<i class="unloaded">2021-09-08T21:45:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trouble Shooting(Kubernetes)</h3><div class="text-muted small"><p> pv 또는 pvc가 삭제가 안되고 계속 pending 상태일 경우 pv에 바인딩된 Pod을 찾아서 날린다. pv 삭제 pvc 삭제 pod has unbound immediate PersistentVolumeClaims pvc가 pv에 바인딩 되지 못해서 발생 Error: `selector` does not match templat...</p></div></div></a></div><div class="card"> <a href="/posts/custom-default-backend-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/"><div class="card-body"> <span class="timeago small" >Sep 14, 2021<i class="unloaded">2021-09-14T14:59:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>custom error page 띄우기</h3><div class="text-muted small"><p> Intro custom error page를 띄우기 위해서, nginx-ingress-controller 차트에 custom default backend를 설정해야한다. custom-default-backend는 nginx-ingress-controller에서 발생한 http error를 대신 처리해줄 리소스를 의미한다. 이때 custom-defau...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/kubectl/" class="btn btn-outline-primary" prompt="Older"><p>Kubectl</p></a> <a href="/posts/probe/" class="btn btn-outline-primary" prompt="Newer"><p>Probe</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//jaegukim.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Pods'; this.page.url = 'https://jaegukim.github.io/posts/pods/'; this.page.identifier = '/posts/pods/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Jaegoo.Kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jaegukim.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
